# 屏幕检测程序

这个程序可以实时检测当前屏幕上的目标对象，基于YOLO模型进行目标检测。

## 功能特点

- **实时屏幕检测**: 持续捕获屏幕并进行目标检测
- **单次检测**: 捕获一次屏幕截图并进行检测
- **可视化结果**: 在检测框上显示检测结果
- **结果保存**: 自动保存检测结果图片

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 运行程序
```bash
python screen_detection.py
```

### 2. 选择检测模式
- **模式1**: 实时屏幕检测 - 持续检测屏幕内容
- **模式2**: 单次屏幕检测 - 捕获一次屏幕进行检测

### 3. 实时检测控制
- 按 `q` 键退出实时检测
- 按 `Ctrl+C` 也可以退出程序

## 输出文件

- `screen_capture.png`: 原始屏幕截图
- `screen_detection_results/`: 检测结果文件夹
  - 包含带检测框的图片
  - 检测结果数据

## 注意事项

1. **模型文件**: 确保 `stjdb.pt` 模型文件存在于上级目录
2. **性能**: 实时检测会消耗较多CPU资源，建议调整检测间隔
3. **权限**: 某些系统可能需要屏幕录制权限
4. **分辨率**: 检测精度与屏幕分辨率相关

## 自定义参数

可以在代码中修改以下参数：
- `conf_threshold`: 置信度阈值 (默认0.5)
- `imgsz`: 输入图像尺寸 (默认640)
- `time.sleep(0.1)`: 检测间隔时间

## 故障排除

1. **导入错误**: 确保所有依赖包已正确安装
2. **模型加载失败**: 检查模型文件路径是否正确
3. **屏幕捕获失败**: 检查系统权限设置
4. **显示窗口问题**: 确保有图形界面环境
